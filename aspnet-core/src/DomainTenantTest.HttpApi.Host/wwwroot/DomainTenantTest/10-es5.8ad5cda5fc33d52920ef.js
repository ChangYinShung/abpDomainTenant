function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,r=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(o=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(s){r=!0,a=s}finally{try{o||null==c.return||c.return()}finally{if(r)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"us7/":function(e,t,n){"use strict";n.r(t),n.d(t,"ACCOUNT_OPTIONS",(function(){return Le})),n.d(t,"AccountModule",(function(){return Ve})),n.d(t,"AccountService",(function(){return re})),n.d(t,"ChangePasswordComponent",(function(){return ve})),n.d(t,"LoginComponent",(function(){return ne})),n.d(t,"ManageProfileComponent",(function(){return oe})),n.d(t,"PersonalSettingsComponent",(function(){return Ue})),n.d(t,"RegisterComponent",(function(){return ue})),n.d(t,"TenantBoxComponent",(function(){return ke})),n.d(t,"optionsFactory",(function(){return Ie})),n.d(t,"\u0275a",(function(){return Se})),n.d(t,"\u0275b",(function(){return ne})),n.d(t,"\u0275c",(function(){return ue})),n.d(t,"\u0275d",(function(){return re})),n.d(t,"\u0275e",(function(){return ke})),n.d(t,"\u0275f",(function(){return ve})),n.d(t,"\u0275g",(function(){return oe})),n.d(t,"\u0275h",(function(){return Ue})),n.d(t,"\u0275i",(function(){return pe}));var o=n("HmNo"),r=n("1REP"),a=n("fXoL"),i=n("1kSV"),c=n("iWZL"),s=n("tyNb"),b=n("3Pt+"),u=n("AcyG"),l=n("z6cu"),p=n("HDdC"),f=n("JIr8"),m=n("nYR2"),d=n("eIep"),h=n("zp1y"),g=n("IzEk"),v=n("350m"),C=n("R0Ic"),y=n("mrSG"),w=n("LgUO"),A=n("ofXK");function U(e,t){if(1&e&&a.Qb(0,"abp-auth-wrapper",3),2&e){a.jc();var n=a.yc(2),o=a.yc(4);a.pc("mainContentRef",n)("cancelContentRef",o)}}function k(e,t){1&e&&(a.Vb(0,"strong"),a.Hc(1),a.kc(2,"abpLocalization"),a.Vb(3,"a",15),a.Hc(4),a.kc(5,"abpLocalization"),a.Ub(),a.Ub()),2&e&&(a.Cb(1),a.Jc(" ",a.lc(2,2,"AbpAccount::AreYouANewUser")," "),a.Cb(3),a.Ic(a.lc(5,4,"AbpAccount::Register")))}function S(e,t){if(1&e){var n=a.Wb();a.Vb(0,"h4"),a.Hc(1),a.kc(2,"abpLocalization"),a.Ub(),a.Fc(3,k,6,6,"strong",4),a.Vb(4,"form",5),a.hc("ngSubmit",(function(){return a.zc(n),a.jc().onSubmit()})),a.Vb(5,"div",6),a.Vb(6,"label",7),a.Hc(7),a.kc(8,"abpLocalization"),a.Ub(),a.Qb(9,"input",8),a.Ub(),a.Vb(10,"div",6),a.Vb(11,"label",9),a.Hc(12),a.kc(13,"abpLocalization"),a.Ub(),a.Qb(14,"input",10),a.Ub(),a.Vb(15,"div",11),a.Vb(16,"label",12),a.Qb(17,"input",13),a.Hc(18),a.kc(19,"abpLocalization"),a.Ub(),a.Ub(),a.Vb(20,"abp-button",14),a.Hc(21),a.kc(22,"abpLocalization"),a.Ub(),a.Ub()}if(2&e){var o=a.jc();a.Cb(1),a.Ic(a.lc(2,8,"AbpAccount::Login")),a.Cb(2),a.pc("ngIf",o.isSelfRegistrationEnabled),a.Cb(1),a.pc("formGroup",o.form),a.Cb(3),a.Ic(a.lc(8,10,"AbpAccount::UserNameOrEmailAddress")),a.Cb(5),a.Ic(a.lc(13,12,"AbpAccount::Password")),a.Cb(6),a.Jc(" ",a.lc(19,14,"AbpAccount::RememberMe")," "),a.Cb(2),a.pc("loading",o.inProgress),a.Cb(1),a.Jc(" ",a.lc(22,16,"AbpAccount::Login")," ")}}function V(e,t){1&e&&(a.Vb(0,"div",16),a.Vb(1,"a",17),a.Vb(2,"button",18),a.Hc(3),a.kc(4,"abpLocalization"),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Cb(3),a.Jc(" ",a.lc(4,1,"AbpAccount::Cancel")," "))}var I=function(e){return{value:e}},P=function(e,t){return{mainContentRef:e,cancelContentRef:t}},L=function(e){return{componentKey:"Account.AuthWrapperComponent",inputs:e}};function j(e,t){1&e&&a.Qb(0,"abp-change-password-form")}var O=function(){return{componentKey:"Account.ChangePasswordComponent"}};function T(e,t){1&e&&(a.Vb(0,"div",11),a.Vb(1,"div",12),a.Vb(2,"h4"),a.Hc(3),a.kc(4,"abpLocalization"),a.Qb(5,"hr"),a.Ub(),a.Fc(6,j,1,0,"abp-change-password-form",13),a.Ub(),a.Ub()),2&e&&(a.pc("@fadeIn",void 0),a.Cb(3),a.Jc(" ",a.lc(4,3,"AbpIdentity::ChangePassword")," "),a.Cb(3),a.pc("abpReplaceableTemplate",a.sc(5,O)))}function R(e,t){1&e&&a.Qb(0,"abp-personal-settings-form")}var N=function(){return{componentKey:"Account.PersonalSettingsComponent"}};function H(e,t){1&e&&(a.Vb(0,"div",11),a.Vb(1,"div",12),a.Vb(2,"h4"),a.Hc(3),a.kc(4,"abpLocalization"),a.Qb(5,"hr"),a.Ub(),a.Fc(6,R,1,0,"abp-personal-settings-form",13),a.Ub(),a.Ub()),2&e&&(a.pc("@fadeIn",void 0),a.Cb(3),a.Jc(" ",a.lc(4,3,"AbpIdentity::PersonalSettings")," "),a.Cb(3),a.pc("abpReplaceableTemplate",a.sc(5,N)))}var z=function(e){return{active:e}};function _(e,t){if(1&e&&a.Qb(0,"abp-auth-wrapper",2),2&e){a.jc();var n=a.yc(2);a.pc("mainContentRef",n)}}function x(e,t){if(1&e){var n=a.Wb();a.Vb(0,"form",5),a.hc("ngSubmit",(function(){return a.zc(n),a.jc(2).onSubmit()})),a.Vb(1,"div",6),a.Vb(2,"label",7),a.Hc(3),a.kc(4,"abpLocalization"),a.Ub(),a.Vb(5,"span"),a.Hc(6," * "),a.Ub(),a.Qb(7,"input",8),a.Ub(),a.Vb(8,"div",6),a.Vb(9,"label",9),a.Hc(10),a.kc(11,"abpLocalization"),a.Ub(),a.Vb(12,"span"),a.Hc(13," * "),a.Ub(),a.Qb(14,"input",10),a.Ub(),a.Vb(15,"div",6),a.Vb(16,"label",11),a.Hc(17),a.kc(18,"abpLocalization"),a.Ub(),a.Vb(19,"span"),a.Hc(20," * "),a.Ub(),a.Qb(21,"input",12),a.Ub(),a.Vb(22,"abp-button",13),a.Hc(23),a.kc(24,"abpLocalization"),a.Ub(),a.Ub()}if(2&e){var o=a.jc(2);a.pc("formGroup",o.form),a.Cb(3),a.Ic(a.lc(4,6,"AbpAccount::UserName")),a.Cb(7),a.Ic(a.lc(11,8,"AbpAccount::EmailAddress")),a.Cb(7),a.Ic(a.lc(18,10,"AbpAccount::Password")),a.Cb(5),a.pc("loading",o.inProgress),a.Cb(1),a.Jc(" ",a.lc(24,12,"AbpAccount::Register")," ")}}function E(e,t){if(1&e&&(a.Vb(0,"h4"),a.Hc(1),a.kc(2,"abpLocalization"),a.Ub(),a.Vb(3,"strong"),a.Hc(4),a.kc(5,"abpLocalization"),a.Vb(6,"a",3),a.Hc(7),a.kc(8,"abpLocalization"),a.Ub(),a.Ub(),a.Fc(9,x,25,14,"form",4)),2&e){var n=a.jc();a.Cb(1),a.Ic(a.lc(2,4,"AbpAccount::Register")),a.Cb(3),a.Jc(" ",a.lc(5,6,"AbpAccount::AlreadyRegistered")," "),a.Cb(3),a.Ic(a.lc(8,8,"AbpAccount::Login")),a.Cb(2),a.pc("ngIf",n.isSelfRegistrationEnabled)}}var M=function(e){return{mainContentRef:e}};function F(e,t){if(1&e){var n=a.Wb();a.Vb(0,"form",1),a.hc("ngSubmit",(function(){return a.zc(n),a.jc().submit()})),a.Vb(1,"div",2),a.Vb(2,"label",3),a.Hc(3),a.kc(4,"abpLocalization"),a.Ub(),a.Vb(5,"span"),a.Hc(6," * "),a.Ub(),a.Vb(7,"input",4),a.hc("keydown.space",(function(e){return a.zc(n),e.preventDefault()})),a.Ub(),a.Ub(),a.Vb(8,"div",5),a.Vb(9,"div",6),a.Vb(10,"div",2),a.Vb(11,"label",7),a.Hc(12),a.kc(13,"abpLocalization"),a.Ub(),a.Qb(14,"input",8),a.Ub(),a.Ub(),a.Vb(15,"div",6),a.Vb(16,"div",2),a.Vb(17,"label",9),a.Hc(18),a.kc(19,"abpLocalization"),a.Ub(),a.Qb(20,"input",10),a.Ub(),a.Ub(),a.Ub(),a.Vb(21,"div",2),a.Vb(22,"label",11),a.Hc(23),a.kc(24,"abpLocalization"),a.Ub(),a.Vb(25,"span"),a.Hc(26," * "),a.Ub(),a.Qb(27,"input",12),a.Ub(),a.Vb(28,"div",2),a.Vb(29,"label",13),a.Hc(30),a.kc(31,"abpLocalization"),a.Ub(),a.Qb(32,"input",14),a.Ub(),a.Vb(33,"abp-button",15),a.Hc(34),a.kc(35,"abpLocalization"),a.Ub(),a.Ub()}if(2&e){var o=a.jc();a.pc("formGroup",o.form),a.Cb(3),a.Ic(a.lc(4,9,"AbpIdentity::DisplayName:UserName")),a.Cb(9),a.Ic(a.lc(13,11,"AbpIdentity::DisplayName:Name")),a.Cb(6),a.Ic(a.lc(19,13,"AbpIdentity::DisplayName:Surname")),a.Cb(5),a.Ic(a.lc(24,15,"AbpIdentity::DisplayName:Email")),a.Cb(7),a.Ic(a.lc(31,17,"AbpIdentity::DisplayName:PhoneNumber")),a.Cb(3),a.pc("loading",o.inProgress)("disabled",null==o.form?null:o.form.invalid),a.Cb(1),a.Jc(" ",a.lc(35,19,"AbpIdentity::Save"),"")}}function J(e,t){1&e&&(a.Vb(0,"h5"),a.Hc(1,"Switch Tenant"),a.Ub())}function Q(e,t){if(1&e){var n=a.Wb();a.Vb(0,"form",12),a.hc("ngSubmit",(function(){return a.zc(n),a.jc().save()})),a.Vb(1,"div",13),a.Vb(2,"div",14),a.Vb(3,"label",15),a.Hc(4),a.kc(5,"abpLocalization"),a.Ub(),a.Vb(6,"input",16),a.hc("ngModelChange",(function(e){return a.zc(n),a.jc().tenant.name=e})),a.Ub(),a.Ub(),a.Vb(7,"p"),a.Hc(8),a.kc(9,"abpLocalization"),a.Ub(),a.Ub(),a.Ub()}if(2&e){var o=a.jc();a.Cb(4),a.Ic(a.lc(5,3,"AbpUiMultiTenancy::Name")),a.Cb(2),a.pc("ngModel",o.tenant.name),a.Cb(2),a.Ic(a.lc(9,5,"AbpUiMultiTenancy::SwitchTenantHint"))}}function G(e,t){if(1&e){var n=a.Wb();a.Vb(0,"button",17,18),a.Hc(2),a.kc(3,"abpLocalization"),a.Ub(),a.Vb(4,"abp-button",19),a.hc("click",(function(){return a.zc(n),a.jc().save()})),a.Qb(5,"i",20),a.Vb(6,"span"),a.Hc(7),a.kc(8,"abpLocalization"),a.Ub(),a.Ub()}2&e&&(a.Cb(2),a.Jc(" ",a.lc(3,2,"AbpTenantManagement::Cancel")," "),a.Cb(5),a.Ic(a.lc(8,4,"AbpTenantManagement::Save")))}function q(e,t){1&e&&a.Qb(0,"abp-tenant-box")}var D=function(){return{componentKey:"Account.TenantBoxComponent"}};function W(e,t){1&e&&(a.Tb(0),a.Fc(1,q,1,0,"abp-tenant-box",6),a.Sb()),2&e&&(a.Cb(1),a.pc("abpReplaceableTemplate",a.sc(1,D)))}function B(e,t){1&e&&a.nc(0,0,["*ngTemplateOutlet","mainContentRef"])}function K(e,t){1&e&&a.nc(0,1,["*ngTemplateOutlet","cancelContentRef"])}function $(e,t){if(1&e&&(a.Vb(0,"div",7),a.Vb(1,"div",8),a.Fc(2,B,1,0,void 0,9),a.Ub(),a.Fc(3,K,1,0,void 0,9),a.Ub()),2&e){var n=a.jc();a.Cb(2),a.pc("ngTemplateOutlet",n.mainContentRef),a.Cb(1),a.pc("ngTemplateOutlet",n.cancelContentRef)}}function X(e,t){1&e&&(a.Vb(0,"div",10),a.Vb(1,"strong"),a.Hc(2),a.kc(3,"abpLocalization"),a.Ub(),a.Hc(4),a.kc(5,"abpLocalization"),a.Ub()),2&e&&(a.Cb(2),a.Ic(a.lc(3,2,"AbpAccount::InvalidLoginRequest")),a.Cb(2),a.Jc(" ",a.lc(5,4,"AbpAccount::ThereAreNoLoginSchemesConfiguredForThisClient")," "))}var Y=["*","*"],Z=b.t,ee=Z.maxLength,te=Z.required,ne=function(){var e=function(){function e(t,n,o,r,a){_classCallCheck(this,e),this.fb=t,this.oauthService=n,this.store=o,this.toasterService=r,this.authService=a,this.isSelfRegistrationEnabled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){this.isSelfRegistrationEnabled="false"!==(this.store.selectSnapshot(o.e.getSetting("Abp.Account.IsSelfRegistrationEnabled"))||"").toLowerCase(),this.form=this.fb.group({username:["",[te,ee(255)]],password:["",[te,ee(128)]],remember:[!1]})}},{key:"onSubmit",value:function(){var e=this;this.form.invalid||(this.inProgress=!0,this.authService.login(this.form.get("username").value,this.form.get("password").value).pipe(Object(f.a)((function(t){return e.toasterService.error(Object(v.a)((function(){return t.error.error_description}))||Object(v.a)((function(){return t.error.error.message}),"AbpAccount::DefaultErrorMessage"),"Error",{life:7e3}),Object(l.a)(t)})),Object(m.a)((function(){return e.inProgress=!1}))).subscribe((function(){e.store.dispatch(new o.A(e.form.get("remember").value))})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(b.c),a.Pb(w.b),a.Pb(u.j),a.Pb(r.n),a.Pb(o.b))},e.\u0275cmp=a.Jb({type:e,selectors:[["abp-login"]],decls:5,vars:10,consts:[[3,"mainContentRef","cancelContentRef",4,"abpReplaceableTemplate"],["mainContentRef",""],["cancelContentRef",""],[3,"mainContentRef","cancelContentRef"],[4,"ngIf"],["validateOnSubmit","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","login-input-user-name-or-email-address"],["type","text","id","login-input-user-name-or-email-address","formControlName","username","autocomplete","username","autofocus","",1,"form-control"],["for","login-input-password"],["type","password","id","login-input-password","formControlName","password","autocomplete","current-password",1,"form-control"],["validationTarget","","validationStyle","",1,"form-check"],["for","login-input-remember-me",1,"form-check-label"],["type","checkbox","id","login-input-remember-me","formControlName","remember",1,"form-check-input"],["buttonType","submit","name","Action","buttonClass","btn-block btn-lg mt-3 btn btn-primary",3,"loading"],["routerLink","/account/register",1,"text-decoration-none"],[1,"card-footer","text-center","border-0"],["routerLink","/"],["type","button","name","Action","value","Cancel",1,"px-2","py-0","btn","btn-link"]],template:function(e,t){if(1&e&&(a.Fc(0,U,1,2,"abp-auth-wrapper",0),a.Fc(1,S,23,18,"ng-template",null,1,a.Gc),a.Fc(3,V,5,3,"ng-template",null,2,a.Gc)),2&e){var n=a.yc(2),o=a.yc(4);a.pc("abpReplaceableTemplate",a.tc(8,L,a.uc(5,P,a.tc(1,I,n),a.tc(3,I,o))))}},directives:function(){return[o.v,Se,A.n,b.v,b.o,o.j,b.h,c.d,b.b,b.n,b.f,c.b,o.c,c.f,c.e,b.a,r.b,s.i]},pipes:function(){return[o.o]},encapsulation:2}),e}(),oe=function(){var e=function e(){_classCallCheck(this,e),this.selectedTab=0};return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=a.Jb({type:e,selectors:[["abp-manage-profile"]],decls:17,vars:14,consts:[["id","AbpContentToolbar"],[1,"card","border-0","shadow-sm"],[1,"card-body"],[1,"row"],[1,"col-12","col-md-3"],["id","nav-tab","role","tablist",1,"nav","flex-column","nav-pills"],[1,"nav-item",3,"click"],["role","tab","href","javascript:void(0)",1,"nav-link",3,"ngClass"],[1,"nav-item","mb-2",3,"click"],[1,"col-12","col-md-9"],["class","tab-content",4,"ngIf"],[1,"tab-content"],["role","tabpanel",1,"tab-pane","active"],[4,"abpReplaceableTemplate"]],template:function(e,t){1&e&&(a.Qb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"div",4),a.Vb(5,"ul",5),a.Vb(6,"li",6),a.hc("click",(function(){return t.selectedTab=0})),a.Vb(7,"a",7),a.Hc(8),a.kc(9,"abpLocalization"),a.Ub(),a.Ub(),a.Vb(10,"li",8),a.hc("click",(function(){return t.selectedTab=1})),a.Vb(11,"a",7),a.Hc(12),a.kc(13,"abpLocalization"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(14,"div",9),a.Fc(15,T,7,6,"div",10),a.Fc(16,H,7,6,"div",10),a.Ub(),a.Ub(),a.Ub(),a.Ub()),2&e&&(a.Cb(7),a.pc("ngClass",a.tc(10,z,0===t.selectedTab)),a.Cb(1),a.Ic(a.lc(9,6,"AbpUi::ChangePassword")),a.Cb(3),a.pc("ngClass",a.tc(12,z,1===t.selectedTab)),a.Cb(1),a.Ic(a.lc(13,8,"AbpAccount::PersonalSettings")),a.Cb(3),a.pc("ngIf",0===t.selectedTab),a.Cb(1),a.pc("ngIf",1===t.selectedTab))},directives:function(){return[A.k,A.n,o.v,ve,Ue]},pipes:function(){return[o.o]},encapsulation:2,data:{animation:[Object(C.m)("fadeIn",[Object(C.l)(":enter",Object(C.n)(r.p))])]}}),e}(),re=function(){var e=function(){function e(t){_classCallCheck(this,e),this.rest=t}return _createClass(e,[{key:"findTenant",value:function(e){return this.rest.request({method:"GET",url:"/api/abp/multi-tenancy/tenants/by-name/".concat(e)})}},{key:"register",value:function(e){return this.rest.request({method:"POST",url:"/api/account/register",body:e},{skipHandleError:!0})}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.dc(o.x))},e.\u0275prov=a.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(a.Lb)({factory:function(){return new e(Object(a.dc)(o.x))},token:e,providedIn:"root"}),e}(),ae=b.t,ie=ae.maxLength,ce=ae.minLength,se=ae.required,be=ae.email,ue=function(){var e=function(){function e(t,n,o,r,a,i){_classCallCheck(this,e),this.fb=t,this.accountService=n,this.oauthService=o,this.store=r,this.toasterService=a,this.authService=i,this.isSelfRegistrationEnabled=!0}return _createClass(e,[{key:"ngOnInit",value:function(){if(this.isSelfRegistrationEnabled="false"!==(this.store.selectSnapshot(o.e.getSetting("Abp.Account.IsSelfRegistrationEnabled"))||"").toLowerCase(),this.isSelfRegistrationEnabled){var e=this.store.selectSnapshot(o.e.getSettings("Identity.Password")),t=[],n=1;"true"===(e["Abp.Identity.Password.RequireDigit"]||"").toLowerCase()&&t.push("number"),"true"===(e["Abp.Identity.Password.RequireLowercase"]||"").toLowerCase()&&t.push("small"),"true"===(e["Abp.Identity.Password.RequireUppercase"]||"").toLowerCase()&&t.push("capital"),"true"===(e["Abp.Identity.Password.RequireNonAlphanumeric"]||"").toLowerCase()&&t.push("special"),Number.isInteger(+e["Abp.Identity.Password.RequiredLength"])&&(n=+e["Abp.Identity.Password.RequiredLength"]),this.form=this.fb.group({username:["",[se,ie(255)]],password:["",[se,Object(c.i)(t),ce(n),ie(128)]],email:["",[se,be]]})}else this.toasterService.warn({key:"AbpAccount::SelfRegistrationDisabledMessage",defaultValue:"Self registration is disabled."},null,{life:1e4})}},{key:"onSubmit",value:function(){var e=this;if(!this.form.invalid){this.inProgress=!0;var t={userName:this.form.get("username").value,password:this.form.get("password").value,emailAddress:this.form.get("email").value,appName:"Angular"};this.accountService.register(t).pipe(Object(d.a)((function(){return e.authService.login(t.userName,t.password)})),Object(f.a)((function(t){return e.toasterService.error(Object(v.a)((function(){return t.error.error_description}))||Object(v.a)((function(){return t.error.error.message}),"AbpAccount::DefaultErrorMessage"),"Error",{life:7e3}),Object(l.a)(t)})),Object(m.a)((function(){return e.inProgress=!1}))).subscribe()}}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(b.c),a.Pb(re),a.Pb(w.b),a.Pb(u.j),a.Pb(r.n),a.Pb(o.b))},e.\u0275cmp=a.Jb({type:e,selectors:[["abp-register"]],decls:3,vars:7,consts:[[3,"mainContentRef",4,"abpReplaceableTemplate"],["mainContentRef",""],[3,"mainContentRef"],["routerLink","/account/login",1,"text-decoration-none"],["validateOnSubmit","","class","mt-4",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","input-user-name"],["autofocus","","type","text","id","input-user-name","formControlName","username","autocomplete","username",1,"form-control"],["for","input-email-address"],["type","email","id","input-email-address","formControlName","email",1,"form-control"],["for","input-password"],["type","password","id","input-password","formControlName","password","autocomplete","current-password",1,"form-control"],["buttonType","submit","name","Action","buttonClass","btn-block btn-lg mt-3 btn btn-primary",3,"loading"]],template:function(e,t){if(1&e&&(a.Fc(0,_,1,1,"abp-auth-wrapper",0),a.Fc(1,E,10,10,"ng-template",null,1,a.Gc)),2&e){var n=a.yc(2);a.pc("abpReplaceableTemplate",a.tc(5,L,a.tc(3,M,a.tc(1,I,n))))}},directives:function(){return[o.v,Se,s.i,A.n,b.v,b.o,o.j,b.h,c.d,b.b,o.c,b.n,b.f,c.b,r.b]},pipes:function(){return[o.o]},encapsulation:2}),e}(),le=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"",component:o.g,children:[{path:"login",component:o.u,data:{replaceableComponent:{key:"Account.LoginComponent",defaultComponent:ne}}},{path:"register",component:o.u,data:{replaceableComponent:{key:"Account.RegisterComponent",defaultComponent:ue}}},{path:"manage-profile",component:o.u,canActivate:[o.a],data:{replaceableComponent:{key:"Account.ManageProfileComponent",defaultComponent:oe}}}]}],pe=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(le)],s.j]}),e}(),fe=b.t,me=fe.minLength,de=fe.required,he=fe.maxLength,ge=["newPassword","repeatNewPassword"],ve=function(){var e=function(){function e(t,n,o){_classCallCheck(this,e),this.fb=t,this.store=n,this.toasterService=o,this.mapErrorsFn=function(e,t,n){return ge.indexOf(String(n.name))<0?e:e.concat(t.filter((function(e){return"passwordMismatch"===e.key})))}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.store.selectSnapshot(o.e.getSettings("Identity.Password")),t=[],n=1;"true"===(e["Abp.Identity.Password.RequireDigit"]||"").toLowerCase()&&t.push("number"),"true"===(e["Abp.Identity.Password.RequireLowercase"]||"").toLowerCase()&&t.push("small"),"true"===(e["Abp.Identity.Password.RequireUppercase"]||"").toLowerCase()&&t.push("capital"),"true"===(e["Abp.Identity.Password.RequireNonAlphanumeric"]||"").toLowerCase()&&t.push("special"),Number.isInteger(+e["Abp.Identity.Password.RequiredLength"])&&(n=+e["Abp.Identity.Password.RequiredLength"]),this.form=this.fb.group({password:["",de],newPassword:["",{validators:[de,Object(c.i)(t),me(n),he(128)]}],repeatNewPassword:["",{validators:[de,Object(c.i)(t),me(n),he(128)]}]},{validators:[Object(c.g)(ge)]})}},{key:"onSubmit",value:function(){var e=this;this.form.invalid||(this.inProgress=!0,this.store.dispatch(new o.d({currentPassword:this.form.get("password").value,newPassword:this.form.get("newPassword").value})).pipe(Object(m.a)((function(){return e.inProgress=!1}))).subscribe({next:function(){e.form.reset(),e.toasterService.success("AbpAccount::PasswordChangedMessage","Success",{life:5e3})},error:function(t){e.toasterService.error(Object(v.a)((function(){return t.error.error.message}),"AbpAccount::DefaultErrorMessage"),"Error",{life:7e3})}}))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(b.c),a.Pb(u.j),a.Pb(r.n))},e.\u0275cmp=a.Jb({type:e,selectors:[["abp-change-password-form"]],exportAs:["abpChangePasswordForm"],decls:25,vars:16,consts:[["validateOnSubmit","",3,"formGroup","mapErrorsFn","ngSubmit"],[1,"form-group"],["for","current-password"],["type","password","id","current-password","formControlName","password","autofocus","","autocomplete","current-password",1,"form-control"],["for","new-password"],["type","password","id","new-password","formControlName","newPassword","autocomplete","new-password",1,"form-control"],["for","confirm-new-password"],["type","password","id","confirm-new-password","formControlName","repeatNewPassword","autocomplete","new-password",1,"form-control"],["iconClass","fa fa-check","buttonClass","btn btn-primary color-white","buttonType","submit",3,"loading","disabled"]],template:function(e,t){1&e&&(a.Vb(0,"form",0),a.hc("ngSubmit",(function(){return t.onSubmit()})),a.Vb(1,"div",1),a.Vb(2,"label",2),a.Hc(3),a.kc(4,"abpLocalization"),a.Ub(),a.Vb(5,"span"),a.Hc(6," * "),a.Ub(),a.Qb(7,"input",3),a.Ub(),a.Vb(8,"div",1),a.Vb(9,"label",4),a.Hc(10),a.kc(11,"abpLocalization"),a.Ub(),a.Vb(12,"span"),a.Hc(13," * "),a.Ub(),a.Qb(14,"input",5),a.Ub(),a.Vb(15,"div",1),a.Vb(16,"label",6),a.Hc(17),a.kc(18,"abpLocalization"),a.Ub(),a.Vb(19,"span"),a.Hc(20," * "),a.Ub(),a.Qb(21,"input",7),a.Ub(),a.Vb(22,"abp-button",8),a.Hc(23),a.kc(24,"abpLocalization"),a.Ub(),a.Ub()),2&e&&(a.pc("formGroup",t.form)("mapErrorsFn",t.mapErrorsFn),a.Cb(3),a.Ic(a.lc(4,8,"AbpIdentity::DisplayName:CurrentPassword")),a.Cb(7),a.Ic(a.lc(11,10,"AbpIdentity::DisplayName:NewPassword")),a.Cb(7),a.Ic(a.lc(18,12,"AbpIdentity::DisplayName:NewPasswordConfirm")),a.Cb(5),a.pc("loading",t.inProgress)("disabled",null==t.form?null:t.form.invalid),a.Cb(1),a.Ic(a.lc(24,14,"AbpIdentity::Save")))},directives:[b.v,b.o,o.j,b.h,c.d,b.b,b.n,b.f,c.b,o.c,r.b],pipes:[o.o],encapsulation:2}),e}(),Ce=b.t,ye=Ce.maxLength,we=Ce.required,Ae=Ce.email,Ue=function(){var e=function(){function e(t,n,o){_classCallCheck(this,e),this.fb=t,this.store=n,this.toasterService=o}return _createClass(e,[{key:"ngOnInit",value:function(){this.buildForm()}},{key:"buildForm",value:function(){var e=this;this.store.dispatch(new o.l).pipe(Object(h.a)(this.profile$),Object(g.a)(1)).subscribe((function(t){var n=_slicedToArray(t,2)[1];e.form=e.fb.group({userName:[n.userName,[we,ye(256)]],email:[n.email,[we,Ae,ye(256)]],name:[n.name||"",[ye(64)]],surname:[n.surname||"",[ye(64)]],phoneNumber:[n.phoneNumber||"",[ye(16)]]})}))}},{key:"submit",value:function(){var e=this;this.form.invalid||(this.inProgress=!0,this.store.dispatch(new o.F(this.form.value)).pipe(Object(m.a)((function(){return e.inProgress=!1}))).subscribe((function(){e.toasterService.success("AbpAccount::PersonalSettingsSaved","Success",{life:5e3})})))}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(b.c),a.Pb(u.j),a.Pb(r.n))},e.\u0275cmp=a.Jb({type:e,selectors:[["abp-personal-settings-form"]],exportAs:["abpPersonalSettingsForm"],decls:1,vars:1,consts:[["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","userName","autofocus","",1,"form-control",3,"keydown.space"],[1,"row"],[1,"col","col-md-6"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","surname"],["type","text","id","surname","formControlName","surname",1,"form-control"],["for","email-address"],["type","text","id","email-address","formControlName","email",1,"form-control"],["for","phone-number"],["type","text","id","phone-number","formControlName","phoneNumber",1,"form-control"],["buttonType","submit","iconClass","fa fa-check","buttonClass","btn btn-primary color-white",3,"loading","disabled"]],template:function(e,t){1&e&&a.Fc(0,F,36,21,"form",0),2&e&&a.pc("ngIf",t.form)},directives:[A.n,b.v,b.o,o.j,b.h,c.d,b.b,b.n,b.f,c.b,o.c,r.b],pipes:[o.o],encapsulation:2}),Object(y.b)([Object(u.f)(o.t.getProfile),Object(y.c)("design:type",p.a)],e.prototype,"profile$",void 0),e}(),ke=function(){var e=function(){function e(t,n,o){_classCallCheck(this,e),this.store=t,this.toasterService=n,this.accountService=o,this.tenant={}}return _createClass(e,[{key:"ngOnInit",value:function(){this.tenant=this.store.selectSnapshot(o.y.getTenant)||{},this.tenantName=this.tenant.name||""}},{key:"onSwitch",value:function(){this.isModalVisible=!0}},{key:"save",value:function(){var e=this;this.tenant.name&&!this.inProgress?(this.inProgress=!0,this.accountService.findTenant(this.tenant.name).pipe(Object(m.a)((function(){return e.inProgress=!1})),Object(g.a)(1),Object(f.a)((function(t){return e.toasterService.error(Object(v.a)((function(){return t.error.error_description}),"AbpUi::DefaultErrorMessage"),"AbpUi::Error"),Object(l.a)(t)})),Object(d.a)((function(t){var n=t.success,r=t.tenantId;return n?(e.tenant={id:r,name:e.tenant.name},e.tenantName=e.tenant.name,e.isModalVisible=!1):(e.toasterService.error("AbpUiMultiTenancy::GivenTenantIsNotAvailable","AbpUi::Error",{messageLocalizationParams:[e.tenant.name]}),e.tenant={},e.tenantName=""),e.store.dispatch(new o.B(n?e.tenant:null)),e.store.dispatch(new o.k)}))).subscribe()):(this.store.dispatch([new o.B(null),new o.k]),this.tenantName=null,this.isModalVisible=!1)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(u.j),a.Pb(r.n),a.Pb(re))},e.\u0275cmp=a.Jb({type:e,selectors:[["abp-tenant-box"]],decls:23,vars:11,consts:[[1,"card","shadow-sm","rounded","mb-3"],[1,"card-body","px-5"],[1,"row"],[1,"col"],[1,"text-uppercase","text-muted",2,"font-size","0.8em"],[1,"m-0","d-inline-block"],[1,"col-auto"],["id","AbpTenantSwitchLink","href","javascript:void(0);",1,"btn","btn-sm","mt-3","btn-outline-primary",3,"click"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"ngSubmit"],[1,"mt-2"],[1,"form-group"],["for","name"],["type","text","id","name","name","tenant","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["buttonType","button","buttonClass","btn btn-primary",3,"click"],[1,"fa","fa-check","mr-1"]],template:function(e,t){1&e&&(a.Vb(0,"div",0),a.Vb(1,"div",1),a.Vb(2,"div",2),a.Vb(3,"div",3),a.Vb(4,"span",4),a.Hc(5),a.kc(6,"abpLocalization"),a.Ub(),a.Qb(7,"br"),a.Vb(8,"h6",5),a.Vb(9,"span"),a.Hc(10),a.kc(11,"abpLocalization"),a.Ub(),a.Ub(),a.Ub(),a.Vb(12,"div",6),a.Vb(13,"a",7),a.hc("click",(function(){return t.onSwitch()})),a.Hc(14),a.kc(15,"abpLocalization"),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Ub(),a.Vb(16,"abp-modal",8),a.hc("visibleChange",(function(e){return t.isModalVisible=e})),a.Fc(17,J,2,0,"ng-template",null,9,a.Gc),a.Fc(19,Q,10,7,"ng-template",null,10,a.Gc),a.Fc(21,G,9,6,"ng-template",null,11,a.Gc),a.Ub()),2&e&&(a.Cb(5),a.Ic(a.lc(6,5,"AbpUiMultiTenancy::Tenant")),a.Cb(5),a.Jc(" ",t.tenantName||a.lc(11,7,"AbpUiMultiTenancy::NotSelected")," "),a.Cb(4),a.Ic(a.lc(15,9,"AbpUiMultiTenancy::Switch")),a.Cb(2),a.pc("visible",t.isModalVisible)("busy",t.inProgress))},directives:[r.h,b.v,b.o,b.p,b.b,o.c,b.n,b.q,r.b],pipes:[o.o],encapsulation:2}),e}(),Se=function(){var e=function(){function e(t){_classCallCheck(this,e),this.store=t,this.enableLocalLogin=!0}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.store.select(o.e.getSetting("Abp.Account.EnableLocalLogin")).pipe(Object(o.J)(this)).subscribe((function(t){t&&(e.enableLocalLogin="false"!==t.toLowerCase())}))}},{key:"ngOnDestroy",value:function(){}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Pb(u.j))},e.\u0275cmp=a.Jb({type:e,selectors:[["abp-auth-wrapper"]],inputs:{mainContentRef:"mainContentRef",cancelContentRef:"cancelContentRef"},exportAs:["abpAuthWrapper"],ngContentSelectors:Y,decls:8,vars:5,consts:[[1,"row"],[1,"mx-auto","col","col-md-5"],[4,"ngIf"],[1,"abp-account-container"],["class","card mt-3 shadow-sm rounded",4,"ngIf","ngIfElse"],["disableLocalLoginTemplate",""],[4,"abpReplaceableTemplate"],[1,"card","mt-3","shadow-sm","rounded"],[1,"card-body","p-5"],[4,"ngTemplateOutlet"],[1,"alert","alert-warning"]],template:function(e,t){if(1&e&&(a.oc(Y),a.Vb(0,"div",0),a.Vb(1,"div",1),a.Fc(2,W,2,2,"ng-container",2),a.kc(3,"async"),a.Vb(4,"div",3),a.Fc(5,$,4,2,"div",4),a.Ub(),a.Ub(),a.Ub(),a.Fc(6,X,6,6,"ng-template",null,5,a.Gc)),2&e){var n=a.yc(7);a.Cb(2),a.pc("ngIf",a.lc(3,3,t.isMultiTenancyEnabled$)),a.Cb(3),a.pc("ngIf",t.enableLocalLogin)("ngIfElse",n)}},directives:[A.n,o.v,ke,A.r],pipes:[A.b,o.o],encapsulation:2}),Object(y.b)([Object(u.f)(o.e.getDeep("multiTenancy.isEnabled")),Object(y.c)("design:type",p.a)],e.prototype,"isMultiTenancyEnabled$",void 0),e}(),Ve=function(){var e=function e(){_classCallCheck(this,e)};return e.\u0275mod=a.Nb({type:e}),e.\u0275inj=a.Mb({factory:function(t){return new(t||e)},imports:[[o.f,pe,r.l,i.f,c.a]]}),e}();function Ie(e){return Object.assign({redirectUrl:"/"},e)}var Pe,Le=new a.s("ACCOUNT_OPTIONS");!function(e){e.AuthWrapperComponentInputs=function(){},e.AuthWrapperComponentOutputs=function(){},e.TenantBoxComponentInputs=function(){},e.TenantBoxComponentOutputs=function(){},e.PersonalSettingsComponentInputs=function(){},e.PersonalSettingsComponentOutputs=function(){},e.ChangePasswordComponentInputs=function(){},e.ChangePasswordComponentOutputs=function(){}}(Pe||(Pe={}))}}]);