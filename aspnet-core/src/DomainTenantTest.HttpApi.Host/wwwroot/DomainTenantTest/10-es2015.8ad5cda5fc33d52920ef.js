(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"us7/":function(e,t,n){"use strict";n.r(t),n.d(t,"ACCOUNT_OPTIONS",(function(){return Ve})),n.d(t,"AccountModule",(function(){return ye})),n.d(t,"AccountService",(function(){return oe})),n.d(t,"ChangePasswordComponent",(function(){return fe})),n.d(t,"LoginComponent",(function(){return te})),n.d(t,"ManageProfileComponent",(function(){return ne})),n.d(t,"PersonalSettingsComponent",(function(){return ve})),n.d(t,"RegisterComponent",(function(){return se})),n.d(t,"TenantBoxComponent",(function(){return we})),n.d(t,"optionsFactory",(function(){return Ue})),n.d(t,"\u0275a",(function(){return Ae})),n.d(t,"\u0275b",(function(){return te})),n.d(t,"\u0275c",(function(){return se})),n.d(t,"\u0275d",(function(){return oe})),n.d(t,"\u0275e",(function(){return we})),n.d(t,"\u0275f",(function(){return fe})),n.d(t,"\u0275g",(function(){return ne})),n.d(t,"\u0275h",(function(){return ve})),n.d(t,"\u0275i",(function(){return le}));var o=n("HmNo"),a=n("1REP"),c=n("fXoL"),r=n("1kSV"),i=n("iWZL"),s=n("tyNb"),b=n("3Pt+"),l=n("AcyG"),p=n("z6cu"),u=n("HDdC"),m=n("JIr8"),d=n("nYR2"),f=n("eIep"),h=n("zp1y"),g=n("IzEk"),C=n("350m"),v=n("R0Ic"),w=n("mrSG"),A=n("LgUO"),y=n("ofXK");function U(e,t){if(1&e&&c.Qb(0,"abp-auth-wrapper",3),2&e){c.jc();const e=c.yc(2),t=c.yc(4);c.pc("mainContentRef",e)("cancelContentRef",t)}}function V(e,t){1&e&&(c.Vb(0,"strong"),c.Hc(1),c.kc(2,"abpLocalization"),c.Vb(3,"a",15),c.Hc(4),c.kc(5,"abpLocalization"),c.Ub(),c.Ub()),2&e&&(c.Cb(1),c.Jc(" ",c.lc(2,2,"AbpAccount::AreYouANewUser")," "),c.Cb(3),c.Ic(c.lc(5,4,"AbpAccount::Register")))}function S(e,t){if(1&e){const e=c.Wb();c.Vb(0,"h4"),c.Hc(1),c.kc(2,"abpLocalization"),c.Ub(),c.Fc(3,V,6,6,"strong",4),c.Vb(4,"form",5),c.hc("ngSubmit",(function(){return c.zc(e),c.jc().onSubmit()})),c.Vb(5,"div",6),c.Vb(6,"label",7),c.Hc(7),c.kc(8,"abpLocalization"),c.Ub(),c.Qb(9,"input",8),c.Ub(),c.Vb(10,"div",6),c.Vb(11,"label",9),c.Hc(12),c.kc(13,"abpLocalization"),c.Ub(),c.Qb(14,"input",10),c.Ub(),c.Vb(15,"div",11),c.Vb(16,"label",12),c.Qb(17,"input",13),c.Hc(18),c.kc(19,"abpLocalization"),c.Ub(),c.Ub(),c.Vb(20,"abp-button",14),c.Hc(21),c.kc(22,"abpLocalization"),c.Ub(),c.Ub()}if(2&e){const e=c.jc();c.Cb(1),c.Ic(c.lc(2,8,"AbpAccount::Login")),c.Cb(2),c.pc("ngIf",e.isSelfRegistrationEnabled),c.Cb(1),c.pc("formGroup",e.form),c.Cb(3),c.Ic(c.lc(8,10,"AbpAccount::UserNameOrEmailAddress")),c.Cb(5),c.Ic(c.lc(13,12,"AbpAccount::Password")),c.Cb(6),c.Jc(" ",c.lc(19,14,"AbpAccount::RememberMe")," "),c.Cb(2),c.pc("loading",e.inProgress),c.Cb(1),c.Jc(" ",c.lc(22,16,"AbpAccount::Login")," ")}}function I(e,t){1&e&&(c.Vb(0,"div",16),c.Vb(1,"a",17),c.Vb(2,"button",18),c.Hc(3),c.kc(4,"abpLocalization"),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Cb(3),c.Jc(" ",c.lc(4,1,"AbpAccount::Cancel")," "))}const P=function(e){return{value:e}},L=function(e,t){return{mainContentRef:e,cancelContentRef:t}},k=function(e){return{componentKey:"Account.AuthWrapperComponent",inputs:e}};function O(e,t){1&e&&c.Qb(0,"abp-change-password-form")}const j=function(){return{componentKey:"Account.ChangePasswordComponent"}};function R(e,t){1&e&&(c.Vb(0,"div",11),c.Vb(1,"div",12),c.Vb(2,"h4"),c.Hc(3),c.kc(4,"abpLocalization"),c.Qb(5,"hr"),c.Ub(),c.Fc(6,O,1,0,"abp-change-password-form",13),c.Ub(),c.Ub()),2&e&&(c.pc("@fadeIn",void 0),c.Cb(3),c.Jc(" ",c.lc(4,3,"AbpIdentity::ChangePassword")," "),c.Cb(3),c.pc("abpReplaceableTemplate",c.sc(5,j)))}function N(e,t){1&e&&c.Qb(0,"abp-personal-settings-form")}const T=function(){return{componentKey:"Account.PersonalSettingsComponent"}};function H(e,t){1&e&&(c.Vb(0,"div",11),c.Vb(1,"div",12),c.Vb(2,"h4"),c.Hc(3),c.kc(4,"abpLocalization"),c.Qb(5,"hr"),c.Ub(),c.Fc(6,N,1,0,"abp-personal-settings-form",13),c.Ub(),c.Ub()),2&e&&(c.pc("@fadeIn",void 0),c.Cb(3),c.Jc(" ",c.lc(4,3,"AbpIdentity::PersonalSettings")," "),c.Cb(3),c.pc("abpReplaceableTemplate",c.sc(5,T)))}const z=function(e){return{active:e}};function x(e,t){if(1&e&&c.Qb(0,"abp-auth-wrapper",2),2&e){c.jc();const e=c.yc(2);c.pc("mainContentRef",e)}}function E(e,t){if(1&e){const e=c.Wb();c.Vb(0,"form",5),c.hc("ngSubmit",(function(){return c.zc(e),c.jc(2).onSubmit()})),c.Vb(1,"div",6),c.Vb(2,"label",7),c.Hc(3),c.kc(4,"abpLocalization"),c.Ub(),c.Vb(5,"span"),c.Hc(6," * "),c.Ub(),c.Qb(7,"input",8),c.Ub(),c.Vb(8,"div",6),c.Vb(9,"label",9),c.Hc(10),c.kc(11,"abpLocalization"),c.Ub(),c.Vb(12,"span"),c.Hc(13," * "),c.Ub(),c.Qb(14,"input",10),c.Ub(),c.Vb(15,"div",6),c.Vb(16,"label",11),c.Hc(17),c.kc(18,"abpLocalization"),c.Ub(),c.Vb(19,"span"),c.Hc(20," * "),c.Ub(),c.Qb(21,"input",12),c.Ub(),c.Vb(22,"abp-button",13),c.Hc(23),c.kc(24,"abpLocalization"),c.Ub(),c.Ub()}if(2&e){const e=c.jc(2);c.pc("formGroup",e.form),c.Cb(3),c.Ic(c.lc(4,6,"AbpAccount::UserName")),c.Cb(7),c.Ic(c.lc(11,8,"AbpAccount::EmailAddress")),c.Cb(7),c.Ic(c.lc(18,10,"AbpAccount::Password")),c.Cb(5),c.pc("loading",e.inProgress),c.Cb(1),c.Jc(" ",c.lc(24,12,"AbpAccount::Register")," ")}}function F(e,t){if(1&e&&(c.Vb(0,"h4"),c.Hc(1),c.kc(2,"abpLocalization"),c.Ub(),c.Vb(3,"strong"),c.Hc(4),c.kc(5,"abpLocalization"),c.Vb(6,"a",3),c.Hc(7),c.kc(8,"abpLocalization"),c.Ub(),c.Ub(),c.Fc(9,E,25,14,"form",4)),2&e){const e=c.jc();c.Cb(1),c.Ic(c.lc(2,4,"AbpAccount::Register")),c.Cb(3),c.Jc(" ",c.lc(5,6,"AbpAccount::AlreadyRegistered")," "),c.Cb(3),c.Ic(c.lc(8,8,"AbpAccount::Login")),c.Cb(2),c.pc("ngIf",e.isSelfRegistrationEnabled)}}const M=function(e){return{mainContentRef:e}};function J(e,t){if(1&e){const e=c.Wb();c.Vb(0,"form",1),c.hc("ngSubmit",(function(){return c.zc(e),c.jc().submit()})),c.Vb(1,"div",2),c.Vb(2,"label",3),c.Hc(3),c.kc(4,"abpLocalization"),c.Ub(),c.Vb(5,"span"),c.Hc(6," * "),c.Ub(),c.Vb(7,"input",4),c.hc("keydown.space",(function(t){return c.zc(e),t.preventDefault()})),c.Ub(),c.Ub(),c.Vb(8,"div",5),c.Vb(9,"div",6),c.Vb(10,"div",2),c.Vb(11,"label",7),c.Hc(12),c.kc(13,"abpLocalization"),c.Ub(),c.Qb(14,"input",8),c.Ub(),c.Ub(),c.Vb(15,"div",6),c.Vb(16,"div",2),c.Vb(17,"label",9),c.Hc(18),c.kc(19,"abpLocalization"),c.Ub(),c.Qb(20,"input",10),c.Ub(),c.Ub(),c.Ub(),c.Vb(21,"div",2),c.Vb(22,"label",11),c.Hc(23),c.kc(24,"abpLocalization"),c.Ub(),c.Vb(25,"span"),c.Hc(26," * "),c.Ub(),c.Qb(27,"input",12),c.Ub(),c.Vb(28,"div",2),c.Vb(29,"label",13),c.Hc(30),c.kc(31,"abpLocalization"),c.Ub(),c.Qb(32,"input",14),c.Ub(),c.Vb(33,"abp-button",15),c.Hc(34),c.kc(35,"abpLocalization"),c.Ub(),c.Ub()}if(2&e){const e=c.jc();c.pc("formGroup",e.form),c.Cb(3),c.Ic(c.lc(4,9,"AbpIdentity::DisplayName:UserName")),c.Cb(9),c.Ic(c.lc(13,11,"AbpIdentity::DisplayName:Name")),c.Cb(6),c.Ic(c.lc(19,13,"AbpIdentity::DisplayName:Surname")),c.Cb(5),c.Ic(c.lc(24,15,"AbpIdentity::DisplayName:Email")),c.Cb(7),c.Ic(c.lc(31,17,"AbpIdentity::DisplayName:PhoneNumber")),c.Cb(3),c.pc("loading",e.inProgress)("disabled",null==e.form?null:e.form.invalid),c.Cb(1),c.Jc(" ",c.lc(35,19,"AbpIdentity::Save"),"")}}function Q(e,t){1&e&&(c.Vb(0,"h5"),c.Hc(1,"Switch Tenant"),c.Ub())}function G(e,t){if(1&e){const e=c.Wb();c.Vb(0,"form",12),c.hc("ngSubmit",(function(){return c.zc(e),c.jc().save()})),c.Vb(1,"div",13),c.Vb(2,"div",14),c.Vb(3,"label",15),c.Hc(4),c.kc(5,"abpLocalization"),c.Ub(),c.Vb(6,"input",16),c.hc("ngModelChange",(function(t){return c.zc(e),c.jc().tenant.name=t})),c.Ub(),c.Ub(),c.Vb(7,"p"),c.Hc(8),c.kc(9,"abpLocalization"),c.Ub(),c.Ub(),c.Ub()}if(2&e){const e=c.jc();c.Cb(4),c.Ic(c.lc(5,3,"AbpUiMultiTenancy::Name")),c.Cb(2),c.pc("ngModel",e.tenant.name),c.Cb(2),c.Ic(c.lc(9,5,"AbpUiMultiTenancy::SwitchTenantHint"))}}function q(e,t){if(1&e){const e=c.Wb();c.Vb(0,"button",17,18),c.Hc(2),c.kc(3,"abpLocalization"),c.Ub(),c.Vb(4,"abp-button",19),c.hc("click",(function(){return c.zc(e),c.jc().save()})),c.Qb(5,"i",20),c.Vb(6,"span"),c.Hc(7),c.kc(8,"abpLocalization"),c.Ub(),c.Ub()}2&e&&(c.Cb(2),c.Jc(" ",c.lc(3,2,"AbpTenantManagement::Cancel")," "),c.Cb(5),c.Ic(c.lc(8,4,"AbpTenantManagement::Save")))}function D(e,t){1&e&&c.Qb(0,"abp-tenant-box")}const W=function(){return{componentKey:"Account.TenantBoxComponent"}};function B(e,t){1&e&&(c.Tb(0),c.Fc(1,D,1,0,"abp-tenant-box",6),c.Sb()),2&e&&(c.Cb(1),c.pc("abpReplaceableTemplate",c.sc(1,W)))}function K(e,t){1&e&&c.nc(0,0,["*ngTemplateOutlet","mainContentRef"])}function $(e,t){1&e&&c.nc(0,1,["*ngTemplateOutlet","cancelContentRef"])}function _(e,t){if(1&e&&(c.Vb(0,"div",7),c.Vb(1,"div",8),c.Fc(2,K,1,0,void 0,9),c.Ub(),c.Fc(3,$,1,0,void 0,9),c.Ub()),2&e){const e=c.jc();c.Cb(2),c.pc("ngTemplateOutlet",e.mainContentRef),c.Cb(1),c.pc("ngTemplateOutlet",e.cancelContentRef)}}function X(e,t){1&e&&(c.Vb(0,"div",10),c.Vb(1,"strong"),c.Hc(2),c.kc(3,"abpLocalization"),c.Ub(),c.Hc(4),c.kc(5,"abpLocalization"),c.Ub()),2&e&&(c.Cb(2),c.Ic(c.lc(3,2,"AbpAccount::InvalidLoginRequest")),c.Cb(2),c.Jc(" ",c.lc(5,4,"AbpAccount::ThereAreNoLoginSchemesConfiguredForThisClient")," "))}const Y=["*","*"],{maxLength:Z,required:ee}=b.t;let te=(()=>{class e{constructor(e,t,n,o,a){this.fb=e,this.oauthService=t,this.store=n,this.toasterService=o,this.authService=a,this.isSelfRegistrationEnabled=!0}ngOnInit(){this.isSelfRegistrationEnabled="false"!==(this.store.selectSnapshot(o.e.getSetting("Abp.Account.IsSelfRegistrationEnabled"))||"").toLowerCase(),this.form=this.fb.group({username:["",[ee,Z(255)]],password:["",[ee,Z(128)]],remember:[!1]})}onSubmit(){this.form.invalid||(this.inProgress=!0,this.authService.login(this.form.get("username").value,this.form.get("password").value).pipe(Object(m.a)(e=>(this.toasterService.error(Object(C.a)(()=>e.error.error_description)||Object(C.a)(()=>e.error.error.message,"AbpAccount::DefaultErrorMessage"),"Error",{life:7e3}),Object(p.a)(e))),Object(d.a)(()=>this.inProgress=!1)).subscribe(()=>{this.store.dispatch(new o.A(this.form.get("remember").value))}))}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(b.c),c.Pb(A.b),c.Pb(l.j),c.Pb(a.n),c.Pb(o.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["abp-login"]],decls:5,vars:10,consts:[[3,"mainContentRef","cancelContentRef",4,"abpReplaceableTemplate"],["mainContentRef",""],["cancelContentRef",""],[3,"mainContentRef","cancelContentRef"],[4,"ngIf"],["validateOnSubmit","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","login-input-user-name-or-email-address"],["type","text","id","login-input-user-name-or-email-address","formControlName","username","autocomplete","username","autofocus","",1,"form-control"],["for","login-input-password"],["type","password","id","login-input-password","formControlName","password","autocomplete","current-password",1,"form-control"],["validationTarget","","validationStyle","",1,"form-check"],["for","login-input-remember-me",1,"form-check-label"],["type","checkbox","id","login-input-remember-me","formControlName","remember",1,"form-check-input"],["buttonType","submit","name","Action","buttonClass","btn-block btn-lg mt-3 btn btn-primary",3,"loading"],["routerLink","/account/register",1,"text-decoration-none"],[1,"card-footer","text-center","border-0"],["routerLink","/"],["type","button","name","Action","value","Cancel",1,"px-2","py-0","btn","btn-link"]],template:function(e,t){if(1&e&&(c.Fc(0,U,1,2,"abp-auth-wrapper",0),c.Fc(1,S,23,18,"ng-template",null,1,c.Gc),c.Fc(3,I,5,3,"ng-template",null,2,c.Gc)),2&e){const e=c.yc(2),t=c.yc(4);c.pc("abpReplaceableTemplate",c.tc(8,k,c.uc(5,L,c.tc(1,P,e),c.tc(3,P,t))))}},directives:function(){return[o.v,Ae,y.n,b.v,b.o,o.j,b.h,i.d,b.b,b.n,b.f,i.b,o.c,i.f,i.e,b.a,a.b,s.i]},pipes:function(){return[o.o]},encapsulation:2}),e})(),ne=(()=>{class e{constructor(){this.selectedTab=0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Jb({type:e,selectors:[["abp-manage-profile"]],decls:17,vars:14,consts:[["id","AbpContentToolbar"],[1,"card","border-0","shadow-sm"],[1,"card-body"],[1,"row"],[1,"col-12","col-md-3"],["id","nav-tab","role","tablist",1,"nav","flex-column","nav-pills"],[1,"nav-item",3,"click"],["role","tab","href","javascript:void(0)",1,"nav-link",3,"ngClass"],[1,"nav-item","mb-2",3,"click"],[1,"col-12","col-md-9"],["class","tab-content",4,"ngIf"],[1,"tab-content"],["role","tabpanel",1,"tab-pane","active"],[4,"abpReplaceableTemplate"]],template:function(e,t){1&e&&(c.Qb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"div",4),c.Vb(5,"ul",5),c.Vb(6,"li",6),c.hc("click",(function(){return t.selectedTab=0})),c.Vb(7,"a",7),c.Hc(8),c.kc(9,"abpLocalization"),c.Ub(),c.Ub(),c.Vb(10,"li",8),c.hc("click",(function(){return t.selectedTab=1})),c.Vb(11,"a",7),c.Hc(12),c.kc(13,"abpLocalization"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(14,"div",9),c.Fc(15,R,7,6,"div",10),c.Fc(16,H,7,6,"div",10),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&e&&(c.Cb(7),c.pc("ngClass",c.tc(10,z,0===t.selectedTab)),c.Cb(1),c.Ic(c.lc(9,6,"AbpUi::ChangePassword")),c.Cb(3),c.pc("ngClass",c.tc(12,z,1===t.selectedTab)),c.Cb(1),c.Ic(c.lc(13,8,"AbpAccount::PersonalSettings")),c.Cb(3),c.pc("ngIf",0===t.selectedTab),c.Cb(1),c.pc("ngIf",1===t.selectedTab))},directives:function(){return[y.k,y.n,o.v,fe,ve]},pipes:function(){return[o.o]},encapsulation:2,data:{animation:[Object(v.m)("fadeIn",[Object(v.l)(":enter",Object(v.n)(a.p))])]}}),e})(),oe=(()=>{class e{constructor(e){this.rest=e}findTenant(e){return this.rest.request({method:"GET",url:`/api/abp/multi-tenancy/tenants/by-name/${e}`})}register(e){return this.rest.request({method:"POST",url:"/api/account/register",body:e},{skipHandleError:!0})}}return e.\u0275fac=function(t){return new(t||e)(c.dc(o.x))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(c.Lb)({factory:function(){return new e(Object(c.dc)(o.x))},token:e,providedIn:"root"}),e})();const{maxLength:ae,minLength:ce,required:re,email:ie}=b.t;let se=(()=>{class e{constructor(e,t,n,o,a,c){this.fb=e,this.accountService=t,this.oauthService=n,this.store=o,this.toasterService=a,this.authService=c,this.isSelfRegistrationEnabled=!0}ngOnInit(){if(this.isSelfRegistrationEnabled="false"!==(this.store.selectSnapshot(o.e.getSetting("Abp.Account.IsSelfRegistrationEnabled"))||"").toLowerCase(),!this.isSelfRegistrationEnabled)return void this.toasterService.warn({key:"AbpAccount::SelfRegistrationDisabledMessage",defaultValue:"Self registration is disabled."},null,{life:1e4});const e=this.store.selectSnapshot(o.e.getSettings("Identity.Password")),t=[];let n=1;"true"===(e["Abp.Identity.Password.RequireDigit"]||"").toLowerCase()&&t.push("number"),"true"===(e["Abp.Identity.Password.RequireLowercase"]||"").toLowerCase()&&t.push("small"),"true"===(e["Abp.Identity.Password.RequireUppercase"]||"").toLowerCase()&&t.push("capital"),"true"===(e["Abp.Identity.Password.RequireNonAlphanumeric"]||"").toLowerCase()&&t.push("special"),Number.isInteger(+e["Abp.Identity.Password.RequiredLength"])&&(n=+e["Abp.Identity.Password.RequiredLength"]),this.form=this.fb.group({username:["",[re,ae(255)]],password:["",[re,Object(i.i)(t),ce(n),ae(128)]],email:["",[re,ie]]})}onSubmit(){if(this.form.invalid)return;this.inProgress=!0;const e={userName:this.form.get("username").value,password:this.form.get("password").value,emailAddress:this.form.get("email").value,appName:"Angular"};this.accountService.register(e).pipe(Object(f.a)(()=>this.authService.login(e.userName,e.password)),Object(m.a)(e=>(this.toasterService.error(Object(C.a)(()=>e.error.error_description)||Object(C.a)(()=>e.error.error.message,"AbpAccount::DefaultErrorMessage"),"Error",{life:7e3}),Object(p.a)(e))),Object(d.a)(()=>this.inProgress=!1)).subscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(b.c),c.Pb(oe),c.Pb(A.b),c.Pb(l.j),c.Pb(a.n),c.Pb(o.b))},e.\u0275cmp=c.Jb({type:e,selectors:[["abp-register"]],decls:3,vars:7,consts:[[3,"mainContentRef",4,"abpReplaceableTemplate"],["mainContentRef",""],[3,"mainContentRef"],["routerLink","/account/login",1,"text-decoration-none"],["validateOnSubmit","","class","mt-4",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",1,"mt-4",3,"formGroup","ngSubmit"],[1,"form-group"],["for","input-user-name"],["autofocus","","type","text","id","input-user-name","formControlName","username","autocomplete","username",1,"form-control"],["for","input-email-address"],["type","email","id","input-email-address","formControlName","email",1,"form-control"],["for","input-password"],["type","password","id","input-password","formControlName","password","autocomplete","current-password",1,"form-control"],["buttonType","submit","name","Action","buttonClass","btn-block btn-lg mt-3 btn btn-primary",3,"loading"]],template:function(e,t){if(1&e&&(c.Fc(0,x,1,1,"abp-auth-wrapper",0),c.Fc(1,F,10,10,"ng-template",null,1,c.Gc)),2&e){const e=c.yc(2);c.pc("abpReplaceableTemplate",c.tc(5,k,c.tc(3,M,c.tc(1,P,e))))}},directives:function(){return[o.v,Ae,s.i,y.n,b.v,b.o,o.j,b.h,i.d,b.b,o.c,b.n,b.f,i.b,a.b]},pipes:function(){return[o.o]},encapsulation:2}),e})();const be=[{path:"",pathMatch:"full",redirectTo:"login"},{path:"",component:o.g,children:[{path:"login",component:o.u,data:{replaceableComponent:{key:"Account.LoginComponent",defaultComponent:te}}},{path:"register",component:o.u,data:{replaceableComponent:{key:"Account.RegisterComponent",defaultComponent:se}}},{path:"manage-profile",component:o.u,canActivate:[o.a],data:{replaceableComponent:{key:"Account.ManageProfileComponent",defaultComponent:ne}}}]}];let le=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(t){return new(t||e)},imports:[[s.j.forChild(be)],s.j]}),e})();const{minLength:pe,required:ue,maxLength:me}=b.t,de=["newPassword","repeatNewPassword"];let fe=(()=>{class e{constructor(e,t,n){this.fb=e,this.store=t,this.toasterService=n,this.mapErrorsFn=(e,t,n)=>de.indexOf(String(n.name))<0?e:e.concat(t.filter(({key:e})=>"passwordMismatch"===e))}ngOnInit(){const e=this.store.selectSnapshot(o.e.getSettings("Identity.Password")),t=[];let n=1;"true"===(e["Abp.Identity.Password.RequireDigit"]||"").toLowerCase()&&t.push("number"),"true"===(e["Abp.Identity.Password.RequireLowercase"]||"").toLowerCase()&&t.push("small"),"true"===(e["Abp.Identity.Password.RequireUppercase"]||"").toLowerCase()&&t.push("capital"),"true"===(e["Abp.Identity.Password.RequireNonAlphanumeric"]||"").toLowerCase()&&t.push("special"),Number.isInteger(+e["Abp.Identity.Password.RequiredLength"])&&(n=+e["Abp.Identity.Password.RequiredLength"]),this.form=this.fb.group({password:["",ue],newPassword:["",{validators:[ue,Object(i.i)(t),pe(n),me(128)]}],repeatNewPassword:["",{validators:[ue,Object(i.i)(t),pe(n),me(128)]}]},{validators:[Object(i.g)(de)]})}onSubmit(){this.form.invalid||(this.inProgress=!0,this.store.dispatch(new o.d({currentPassword:this.form.get("password").value,newPassword:this.form.get("newPassword").value})).pipe(Object(d.a)(()=>this.inProgress=!1)).subscribe({next:()=>{this.form.reset(),this.toasterService.success("AbpAccount::PasswordChangedMessage","Success",{life:5e3})},error:e=>{this.toasterService.error(Object(C.a)(()=>e.error.error.message,"AbpAccount::DefaultErrorMessage"),"Error",{life:7e3})}}))}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(b.c),c.Pb(l.j),c.Pb(a.n))},e.\u0275cmp=c.Jb({type:e,selectors:[["abp-change-password-form"]],exportAs:["abpChangePasswordForm"],decls:25,vars:16,consts:[["validateOnSubmit","",3,"formGroup","mapErrorsFn","ngSubmit"],[1,"form-group"],["for","current-password"],["type","password","id","current-password","formControlName","password","autofocus","","autocomplete","current-password",1,"form-control"],["for","new-password"],["type","password","id","new-password","formControlName","newPassword","autocomplete","new-password",1,"form-control"],["for","confirm-new-password"],["type","password","id","confirm-new-password","formControlName","repeatNewPassword","autocomplete","new-password",1,"form-control"],["iconClass","fa fa-check","buttonClass","btn btn-primary color-white","buttonType","submit",3,"loading","disabled"]],template:function(e,t){1&e&&(c.Vb(0,"form",0),c.hc("ngSubmit",(function(){return t.onSubmit()})),c.Vb(1,"div",1),c.Vb(2,"label",2),c.Hc(3),c.kc(4,"abpLocalization"),c.Ub(),c.Vb(5,"span"),c.Hc(6," * "),c.Ub(),c.Qb(7,"input",3),c.Ub(),c.Vb(8,"div",1),c.Vb(9,"label",4),c.Hc(10),c.kc(11,"abpLocalization"),c.Ub(),c.Vb(12,"span"),c.Hc(13," * "),c.Ub(),c.Qb(14,"input",5),c.Ub(),c.Vb(15,"div",1),c.Vb(16,"label",6),c.Hc(17),c.kc(18,"abpLocalization"),c.Ub(),c.Vb(19,"span"),c.Hc(20," * "),c.Ub(),c.Qb(21,"input",7),c.Ub(),c.Vb(22,"abp-button",8),c.Hc(23),c.kc(24,"abpLocalization"),c.Ub(),c.Ub()),2&e&&(c.pc("formGroup",t.form)("mapErrorsFn",t.mapErrorsFn),c.Cb(3),c.Ic(c.lc(4,8,"AbpIdentity::DisplayName:CurrentPassword")),c.Cb(7),c.Ic(c.lc(11,10,"AbpIdentity::DisplayName:NewPassword")),c.Cb(7),c.Ic(c.lc(18,12,"AbpIdentity::DisplayName:NewPasswordConfirm")),c.Cb(5),c.pc("loading",t.inProgress)("disabled",null==t.form?null:t.form.invalid),c.Cb(1),c.Ic(c.lc(24,14,"AbpIdentity::Save")))},directives:[b.v,b.o,o.j,b.h,i.d,b.b,b.n,b.f,i.b,o.c,a.b],pipes:[o.o],encapsulation:2}),e})();const{maxLength:he,required:ge,email:Ce}=b.t;let ve=(()=>{class e{constructor(e,t,n){this.fb=e,this.store=t,this.toasterService=n}ngOnInit(){this.buildForm()}buildForm(){this.store.dispatch(new o.l).pipe(Object(h.a)(this.profile$),Object(g.a)(1)).subscribe(([,e])=>{this.form=this.fb.group({userName:[e.userName,[ge,he(256)]],email:[e.email,[ge,Ce,he(256)]],name:[e.name||"",[he(64)]],surname:[e.surname||"",[he(64)]],phoneNumber:[e.phoneNumber||"",[he(16)]]})})}submit(){this.form.invalid||(this.inProgress=!0,this.store.dispatch(new o.F(this.form.value)).pipe(Object(d.a)(()=>this.inProgress=!1)).subscribe(()=>{this.toasterService.success("AbpAccount::PersonalSettingsSaved","Success",{life:5e3})}))}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(b.c),c.Pb(l.j),c.Pb(a.n))},e.\u0275cmp=c.Jb({type:e,selectors:[["abp-personal-settings-form"]],exportAs:["abpPersonalSettingsForm"],decls:1,vars:1,consts:[["validateOnSubmit","",3,"formGroup","ngSubmit",4,"ngIf"],["validateOnSubmit","",3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","text","id","username","formControlName","userName","autofocus","",1,"form-control",3,"keydown.space"],[1,"row"],[1,"col","col-md-6"],["for","name"],["type","text","id","name","formControlName","name",1,"form-control"],["for","surname"],["type","text","id","surname","formControlName","surname",1,"form-control"],["for","email-address"],["type","text","id","email-address","formControlName","email",1,"form-control"],["for","phone-number"],["type","text","id","phone-number","formControlName","phoneNumber",1,"form-control"],["buttonType","submit","iconClass","fa fa-check","buttonClass","btn btn-primary color-white",3,"loading","disabled"]],template:function(e,t){1&e&&c.Fc(0,J,36,21,"form",0),2&e&&c.pc("ngIf",t.form)},directives:[y.n,b.v,b.o,o.j,b.h,i.d,b.b,b.n,b.f,i.b,o.c,a.b],pipes:[o.o],encapsulation:2}),Object(w.b)([Object(l.f)(o.t.getProfile),Object(w.c)("design:type",u.a)],e.prototype,"profile$",void 0),e})(),we=(()=>{class e{constructor(e,t,n){this.store=e,this.toasterService=t,this.accountService=n,this.tenant={}}ngOnInit(){this.tenant=this.store.selectSnapshot(o.y.getTenant)||{},this.tenantName=this.tenant.name||""}onSwitch(){this.isModalVisible=!0}save(){this.tenant.name&&!this.inProgress?(this.inProgress=!0,this.accountService.findTenant(this.tenant.name).pipe(Object(d.a)(()=>this.inProgress=!1),Object(g.a)(1),Object(m.a)(e=>(this.toasterService.error(Object(C.a)(()=>e.error.error_description,"AbpUi::DefaultErrorMessage"),"AbpUi::Error"),Object(p.a)(e))),Object(f.a)(({success:e,tenantId:t})=>(e?(this.tenant={id:t,name:this.tenant.name},this.tenantName=this.tenant.name,this.isModalVisible=!1):(this.toasterService.error("AbpUiMultiTenancy::GivenTenantIsNotAvailable","AbpUi::Error",{messageLocalizationParams:[this.tenant.name]}),this.tenant={},this.tenantName=""),this.store.dispatch(new o.B(e?this.tenant:null)),this.store.dispatch(new o.k)))).subscribe()):(this.store.dispatch([new o.B(null),new o.k]),this.tenantName=null,this.isModalVisible=!1)}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(l.j),c.Pb(a.n),c.Pb(oe))},e.\u0275cmp=c.Jb({type:e,selectors:[["abp-tenant-box"]],decls:23,vars:11,consts:[[1,"card","shadow-sm","rounded","mb-3"],[1,"card-body","px-5"],[1,"row"],[1,"col"],[1,"text-uppercase","text-muted",2,"font-size","0.8em"],[1,"m-0","d-inline-block"],[1,"col-auto"],["id","AbpTenantSwitchLink","href","javascript:void(0);",1,"btn","btn-sm","mt-3","btn-outline-primary",3,"click"],["size","md",3,"visible","busy","visibleChange"],["abpHeader",""],["abpBody",""],["abpFooter",""],[3,"ngSubmit"],[1,"mt-2"],[1,"form-group"],["for","name"],["type","text","id","name","name","tenant","autofocus","",1,"form-control",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-secondary"],["abpClose",""],["buttonType","button","buttonClass","btn btn-primary",3,"click"],[1,"fa","fa-check","mr-1"]],template:function(e,t){1&e&&(c.Vb(0,"div",0),c.Vb(1,"div",1),c.Vb(2,"div",2),c.Vb(3,"div",3),c.Vb(4,"span",4),c.Hc(5),c.kc(6,"abpLocalization"),c.Ub(),c.Qb(7,"br"),c.Vb(8,"h6",5),c.Vb(9,"span"),c.Hc(10),c.kc(11,"abpLocalization"),c.Ub(),c.Ub(),c.Ub(),c.Vb(12,"div",6),c.Vb(13,"a",7),c.hc("click",(function(){return t.onSwitch()})),c.Hc(14),c.kc(15,"abpLocalization"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(16,"abp-modal",8),c.hc("visibleChange",(function(e){return t.isModalVisible=e})),c.Fc(17,Q,2,0,"ng-template",null,9,c.Gc),c.Fc(19,G,10,7,"ng-template",null,10,c.Gc),c.Fc(21,q,9,6,"ng-template",null,11,c.Gc),c.Ub()),2&e&&(c.Cb(5),c.Ic(c.lc(6,5,"AbpUiMultiTenancy::Tenant")),c.Cb(5),c.Jc(" ",t.tenantName||c.lc(11,7,"AbpUiMultiTenancy::NotSelected")," "),c.Cb(4),c.Ic(c.lc(15,9,"AbpUiMultiTenancy::Switch")),c.Cb(2),c.pc("visible",t.isModalVisible)("busy",t.inProgress))},directives:[a.h,b.v,b.o,b.p,b.b,o.c,b.n,b.q,a.b],pipes:[o.o],encapsulation:2}),e})(),Ae=(()=>{class e{constructor(e){this.store=e,this.enableLocalLogin=!0}ngOnInit(){this.store.select(o.e.getSetting("Abp.Account.EnableLocalLogin")).pipe(Object(o.J)(this)).subscribe(e=>{e&&(this.enableLocalLogin="false"!==e.toLowerCase())})}ngOnDestroy(){}}return e.\u0275fac=function(t){return new(t||e)(c.Pb(l.j))},e.\u0275cmp=c.Jb({type:e,selectors:[["abp-auth-wrapper"]],inputs:{mainContentRef:"mainContentRef",cancelContentRef:"cancelContentRef"},exportAs:["abpAuthWrapper"],ngContentSelectors:Y,decls:8,vars:5,consts:[[1,"row"],[1,"mx-auto","col","col-md-5"],[4,"ngIf"],[1,"abp-account-container"],["class","card mt-3 shadow-sm rounded",4,"ngIf","ngIfElse"],["disableLocalLoginTemplate",""],[4,"abpReplaceableTemplate"],[1,"card","mt-3","shadow-sm","rounded"],[1,"card-body","p-5"],[4,"ngTemplateOutlet"],[1,"alert","alert-warning"]],template:function(e,t){if(1&e&&(c.oc(Y),c.Vb(0,"div",0),c.Vb(1,"div",1),c.Fc(2,B,2,2,"ng-container",2),c.kc(3,"async"),c.Vb(4,"div",3),c.Fc(5,_,4,2,"div",4),c.Ub(),c.Ub(),c.Ub(),c.Fc(6,X,6,6,"ng-template",null,5,c.Gc)),2&e){const e=c.yc(7);c.Cb(2),c.pc("ngIf",c.lc(3,3,t.isMultiTenancyEnabled$)),c.Cb(3),c.pc("ngIf",t.enableLocalLogin)("ngIfElse",e)}},directives:[y.n,o.v,we,y.r],pipes:[y.b,o.o],encapsulation:2}),Object(w.b)([Object(l.f)(o.e.getDeep("multiTenancy.isEnabled")),Object(w.c)("design:type",u.a)],e.prototype,"isMultiTenancyEnabled$",void 0),e})(),ye=(()=>{class e{}return e.\u0275mod=c.Nb({type:e}),e.\u0275inj=c.Mb({factory:function(t){return new(t||e)},imports:[[o.f,le,a.l,r.f,i.a]]}),e})();function Ue(e){return Object.assign({redirectUrl:"/"},e)}const Ve=new c.s("ACCOUNT_OPTIONS");var Se;!function(e){e.AuthWrapperComponentInputs=function(){},e.AuthWrapperComponentOutputs=function(){},e.TenantBoxComponentInputs=function(){},e.TenantBoxComponentOutputs=function(){},e.PersonalSettingsComponentInputs=function(){},e.PersonalSettingsComponentOutputs=function(){},e.ChangePasswordComponentInputs=function(){},e.ChangePasswordComponentOutputs=function(){}}(Se||(Se={}))}}]);